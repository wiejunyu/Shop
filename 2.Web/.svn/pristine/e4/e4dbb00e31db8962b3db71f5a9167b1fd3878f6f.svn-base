(function(n){var f={colors:1,values:1,backgroundColor:1,scaleColors:1,normalizeFunction:1,enableZoom:1,showTooltip:1,borderColor:1,borderWidth:1,borderOpacity:1,selectedRegions:1,multiSelectRegion:1},u={onLabelShow:"labelShow",onRegionOver:"regionMouseOver",onRegionOut:"regionMouseOut",onRegionClick:"regionClick",onRegionSelect:"regionSelect",onRegionDeselect:"regionDeselect"},r,t,i;n.fn.vectorMap=function(i){var e={map:"world_en",backgroundColor:"#a5bfdd",color:"#f4f3f0",hoverColor:"#c9dfaf",selectedColor:"#c9dfaf",scaleColors:["#b6d6ff","#005ace"],normalizeFunction:"linear",enableZoom:!0,showTooltip:!0,borderColor:"#818181",borderWidth:1,borderOpacity:.25,selectedRegions:null,multiSelectRegion:!1},r=this.data("mapObject"),o;if(i==="addMap")t.maps[arguments[1]]=arguments[2];else if(i==="set"&&f[arguments[1]])r["set"+arguments[1].charAt(0).toUpperCase()+arguments[1].substr(1)].apply(r,Array.prototype.slice.call(arguments,2));else{if(typeof i=="string"&&typeof r[i]=="function")return r[i].apply(r,Array.prototype.slice.call(arguments,1));n.extend(e,i);e.container=this;this.css({position:"relative",overflow:"hidden"});r=new t(e);this.data("mapObject",r);for(o in u)e[o]&&this.bind(u[o]+".jqvmap",e[o])}};r=function(n,t,i){if(this.mode=window.SVGAngle?"svg":"vml",this.params=i,this.mode=="svg")this.createSvgNode=function(n){return document.createElementNS(this.svgns,n)};else{try{document.namespaces.rvml||document.namespaces.add("rvml","urn:schemas-microsoft-com:vml");this.createVmlNode=function(n){return document.createElement("<rvml:"+n+' class="rvml">')}}catch(r){this.createVmlNode=function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)")}this.mode=="svg"?this.canvas=this.createSvgNode("svg"):(this.canvas=this.createVmlNode("group"),this.canvas.style.position="absolute");this.setSize(n,t)};r.prototype={svgns:"http://www.w3.org/2000/svg",mode:"svg",width:0,height:0,canvas:null,setSize:function(n,t){var r,i,u;if(this.mode=="svg")this.canvas.setAttribute("width",n),this.canvas.setAttribute("height",t);else if(this.canvas.style.width=n+"px",this.canvas.style.height=t+"px",this.canvas.coordsize=n+" "+t,this.canvas.coordorigin="0 0",this.rootGroup){for(r=this.rootGroup.getElementsByTagName("shape"),i=0,u=r.length;i<u;i++)r[i].coordsize=n+" "+t,r[i].style.width=n+"px",r[i].style.height=t+"px";this.rootGroup.coordsize=n+" "+t;this.rootGroup.style.width=n+"px";this.rootGroup.style.height=t+"px"}this.width=n;this.height=t},createPath:function(n){var i,u,f;return this.mode=="svg"?(i=this.createSvgNode("path"),i.setAttribute("d",n.path),this.params.borderColor!==null&&i.setAttribute("stroke",this.params.borderColor),this.params.borderWidth>0&&(i.setAttribute("stroke-width",this.params.borderWidth),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-linejoin","round")),this.params.borderOpacity>0&&i.setAttribute("stroke-opacity",this.params.borderOpacity),i.setFill=function(n){this.setAttribute("fill",n);this.getAttribute("original")===null&&this.setAttribute("original",n)},i.getFill=function(){return this.getAttribute("fill")},i.getOriginalFill=function(){return this.getAttribute("original")},i.setOpacity=function(n){this.setAttribute("fill-opacity",n)}):(i=this.createVmlNode("shape"),i.coordorigin="0 0",i.coordsize=this.width+" "+this.height,i.style.width=this.width+"px",i.style.height=this.height+"px",i.fillcolor=t.defaultFillColor,i.stroked=!1,i.path=r.pathSvgToVml(n.path),u=this.createVmlNode("skew"),u.on=!0,u.matrix="0.01,0,0,0.01,0,0",u.offset="0,0",i.appendChild(u),f=this.createVmlNode("fill"),i.appendChild(f),i.setFill=function(n){this.getElementsByTagName("fill")[0].color=n;this.getAttribute("original")===null&&this.setAttribute("original",n)},i.getFill=function(){return this.getElementsByTagName("fill")[0].color},i.getOriginalFill=function(){return this.getAttribute("original")},i.setOpacity=function(n){this.getElementsByTagName("fill")[0].opacity=parseInt(n*100,10)+"%"}),i},createGroup:function(n){var t;return this.mode=="svg"?t=this.createSvgNode("g"):(t=this.createVmlNode("group"),t.style.width=this.width+"px",t.style.height=this.height+"px",t.style.left="0px",t.style.top="0px",t.coordorigin="0 0",t.coordsize=this.width+" "+this.height),n&&(this.rootGroup=t),t},applyTransformParams:function(n,t,i){this.mode=="svg"?this.rootGroup.setAttribute("transform","scale("+n+") translate("+t+", "+i+")"):(this.rootGroup.coordorigin=this.width-t+","+(this.height-i),this.rootGroup.coordsize=this.width/n+","+this.height/n)}};r.pathSvgToVml=function(n){var t=0,i=0,r,u;return n.replace(/([MmLlHhVvCcSs])((?:-?(?:\d+)?(?:\.\d+)?,?\s?)+)/g,function(n,f,e){e=e.replace(/(\d)-/g,"$1,-").replace(/\s+/g,",").split(",");e[0]||e.shift();for(var o=0,s=e.length;o<s;o++)e[o]=Math.round(100*e[o]);switch(f){case"m":return t+=e[0],i+=e[1],"t"+e.join(",");case"M":return t=e[0],i=e[1],"m"+e.join(",");case"l":return t+=e[0],i+=e[1],"r"+e.join(",");case"L":return t=e[0],i=e[1],"l"+e.join(",");case"h":return t+=e[0],"r"+e[0]+",0";case"H":return t=e[0],"l"+t+","+i;case"v":return i+=e[0],"r0,"+e[0];case"V":return i=e[0],"l"+t+","+i;case"c":return r=t+e[e.length-4],u=i+e[e.length-3],t+=e[e.length-2],i+=e[e.length-1],"v"+e.join(",");case"C":return r=e[e.length-4],u=e[e.length-3],t=e[e.length-2],i=e[e.length-1],"c"+e.join(",");case"s":return e.unshift(i-u),e.unshift(t-r),r=t+e[e.length-4],u=i+e[e.length-3],t+=e[e.length-2],i+=e[e.length-1],"v"+e.join(",");case"S":return e.unshift(i+i-u),e.unshift(t+t-r),r=e[e.length-4],u=e[e.length-3],t=e[e.length-2],i=e[e.length-1],"c"+e.join(",");default:return!1}return""}).replace(/z/g,"")};t=function(u){var f,e,s,o,h;u=u||{};f=this;e=t.maps[u.map];this.selectedRegions=[];this.multiSelectRegion=u.multiSelectRegion;this.container=u.container;this.defaultWidth=e.width;this.defaultHeight=e.height;this.color=u.color;this.selectedColor=u.selectedColor;this.hoverColor=u.hoverColor;this.hoverOpacity=u.hoverOpacity;this.setBackgroundColor(u.backgroundColor);this.width=u.container.width();this.height=u.container.height();this.resize();jQuery(window).resize(function(){f.width=u.container.width();f.height=u.container.height();f.resize();f.canvas.setSize(f.width,f.height);f.applyTransform()});this.canvas=new r(this.width,this.height,u);u.container.append(this.canvas.canvas);this.makeDraggable();this.rootGroup=this.canvas.createGroup(!0);this.index=t.mapIndex;this.label=jQuery("<div/>").addClass("jqvmap-label").appendTo(jQuery("body"));u.enableZoom&&(jQuery("<div/>").addClass("jqvmap-zoomin").text("+").appendTo(u.container),jQuery("<div/>").addClass("jqvmap-zoomout").html("&#x2212;").appendTo(u.container));f.countries=[];for(s in e.pathes)o=this.canvas.createPath({path:e.pathes[s].path}),o.setFill(this.color),o.id=f.getCountryId(s),f.countries[s]=o,this.canvas.mode=="svg"?o.setAttribute("class","jvectormap-region"):jQuery(o).addClass("jvectormap-region"),jQuery(this.rootGroup).append(o);if(jQuery(u.container).delegate(this.canvas.mode=="svg"?"path":"shape","mouseover mouseout",function(t){var r=t.target,i=t.target.id.split("_").pop(),o=n.Event("labelShow.jqvmap"),s=n.Event("regionMouseOver.jqvmap");t.type=="mouseover"?(jQuery(u.container).trigger(s,[i,e.pathes[i].name]),s.isDefaultPrevented()||f.highlight(i,r),u.showTooltip&&(f.label.text(e.pathes[i].name),jQuery(u.container).trigger(o,[f.label,i]),o.isDefaultPrevented()||(f.label.show(),f.labelWidth=f.label.width(),f.labelHeight=f.label.height()))):(f.unhighlight(i,r),f.label.hide(),jQuery(u.container).trigger("regionMouseOut.jqvmap",[i,e.pathes[i].name]))}),jQuery(u.container).delegate(this.canvas.mode=="svg"?"path":"shape","click",function(n){var i,r,t;if(!u.multiSelectRegion)for(i in e.pathes)f.countries[i].currentFillColor=f.countries[i].getOriginalFill(),f.countries[i].setFill(f.countries[i].getOriginalFill());r=n.target;t=n.target.id.split("_").pop();jQuery(u.container).trigger("regionClick.jqvmap",[t,e.pathes[t].name]);f.selectedRegions.indexOf(t)!==-1?f.deselect(t,r):f.select(t,r)}),u.showTooltip&&u.container.mousemove(function(n){f.label.is(":visible")&&f.label.css({left:n.pageX-15-f.labelWidth,top:n.pageY-15-f.labelHeight})}),this.setColors(u.colors),this.canvas.canvas.appendChild(this.rootGroup),this.applyTransform(),this.colorScale=new i(u.scaleColors,u.normalizeFunction,u.valueMin,u.valueMax),u.values&&(this.values=u.values,this.setValues(u.values)),u.selectedRegions)if(u.selectedRegions instanceof Array)for(h in u.selectedRegions)this.select(u.selectedRegions[h].toLowerCase());else this.select(u.selectedRegions.toLowerCase());this.bindZoomButtons();t.mapIndex++};t.prototype={transX:0,transY:0,scale:1,baseTransX:0,baseTransY:0,baseScale:1,width:0,height:0,countries:{},countriesColors:{},countriesData:{},zoomStep:1.4,zoomMaxStep:4,zoomCurStep:1,setColors:function(n,t){var r,i;if(typeof n=="string")this.countries[n].setFill(t),this.countries[n].setAttribute("original",t);else{r=n;for(i in r)this.countries[i]&&(this.countries[i].setFill(r[i]),this.countries[i].setAttribute("original",r[i]))}},setValues:function(n){var r=0,u=Number.MAX_VALUE,t,i,f;for(i in n)t=parseFloat(n[i]),t>r&&(r=n[i]),t&&t<u&&(u=t);this.colorScale.setMin(u);this.colorScale.setMax(r);f={};for(i in n)t=parseFloat(n[i]),f[i]=t?this.colorScale.getColor(t):this.color;this.setColors(f);this.values=n},setBackgroundColor:function(n){this.container.css("background-color",n)},setScaleColors:function(n){this.colorScale.setColors(n);this.values&&this.setValues(this.values)},setNormalizeFunction:function(n){this.colorScale.setNormalizeFunction(n);this.values&&this.setValues(this.values)},highlight:function(t,i){i=i||n("#"+this.getCountryId(t))[0];this.hoverOpacity?i.setOpacity(this.hoverOpacity):this.hoverColor&&(i.currentFillColor=i.getFill()+"",i.setFill(this.hoverColor))},unhighlight:function(t,i){i=i||n("#"+this.getCountryId(t))[0];i.setOpacity(1);i.currentFillColor&&i.setFill(i.currentFillColor)},select:function(t,i){i=i||n("#"+this.getCountryId(t))[0];this.selectedRegions.indexOf(t)<0&&(this.multiSelectRegion?this.selectedRegions.push(t):this.selectedRegions=[t],n(this.container).trigger("regionSelect.jqvmap",[t]),this.selectedColor&&(i.currentFillColor=this.selectedColor,i.setFill(this.selectedColor)))},deselect:function(t,i){i=i||n("#"+this.getCountryId(t))[0];this.selectedRegions.indexOf(t)>=0&&(this.selectedRegions.splice(this.selectedRegions.indexOf(t),1),n(this.container).trigger("regionDeselect.jqvmap",[t]),i.currentFillColor=i.getOriginalFill(),i.setFill(i.getOriginalFill()))},isSelected:function(n){return this.selectedRegions.indexOf(n)>=0},resize:function(){var n=this.baseScale;this.width/this.height>this.defaultWidth/this.defaultHeight?(this.baseScale=this.height/this.defaultHeight,this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)):(this.baseScale=this.width/this.defaultWidth,this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale));this.scale*=this.baseScale/n;this.transX*=this.baseScale/n;this.transY*=this.baseScale/n},reset:function(){this.countryTitle.reset();for(var n in this.countries)this.countries[n].setFill(t.defaultColor);this.scale=this.baseScale;this.transX=this.baseTransX;this.transY=this.baseTransY;this.applyTransform()},applyTransform:function(){var n,t,i,r;this.defaultWidth*this.scale<=this.width?(n=(this.width-this.defaultWidth*this.scale)/(2*this.scale),i=(this.width-this.defaultWidth*this.scale)/(2*this.scale)):(n=0,i=(this.width-this.defaultWidth*this.scale)/this.scale);this.defaultHeight*this.scale<=this.height?(t=(this.height-this.defaultHeight*this.scale)/(2*this.scale),r=(this.height-this.defaultHeight*this.scale)/(2*this.scale)):(t=0,r=(this.height-this.defaultHeight*this.scale)/this.scale);this.transY>t?this.transY=t:this.transY<r&&(this.transY=r);this.transX>n?this.transX=n:this.transX<i&&(this.transX=i);this.canvas.applyTransformParams(this.scale,this.transX,this.transY)},makeDraggable:function(){var t=!1,i,r,n=this;n.isMoving=!1;n.isMovingTimeout=!1;this.container.mousemove(function(u){if(t){var f=n.transX,e=n.transY;n.transX-=(i-u.pageX)/n.scale;n.transY-=(r-u.pageY)/n.scale;n.applyTransform();i=u.pageX;r=u.pageY;n.isMoving=!0;n.isMovingTimeout&&clearTimeout(n.isMovingTimeout)}return!1}).mousedown(function(n){return t=!0,i=n.pageX,r=n.pageY,!1}).mouseup(function(){return t=!1,n.isMovingTimeout=setTimeout(function(){n.isMoving=!1},100),!1})},bindZoomButtons:function(){var n=this,t=(jQuery("#zoom").innerHeight()-61)/(this.zoomMaxStep-this.zoomCurStep);this.container.find(".jqvmap-zoomin").click(function(){if(n.zoomCurStep<n.zoomMaxStep){var i=n.transX,r=n.transY,u=n.scale;n.transX-=(n.width/n.scale-n.width/(n.scale*n.zoomStep))/2;n.transY-=(n.height/n.scale-n.height/(n.scale*n.zoomStep))/2;n.setScale(n.scale*n.zoomStep);n.zoomCurStep++;jQuery("#zoomSlider").css("top",parseInt(jQuery("#zoomSlider").css("top"),10)-t)}});this.container.find(".jqvmap-zoomout").click(function(){if(n.zoomCurStep>1){var i=n.transX,r=n.transY,u=n.scale;n.transX+=(n.width/(n.scale/n.zoomStep)-n.width/n.scale)/2;n.transY+=(n.height/(n.scale/n.zoomStep)-n.height/n.scale)/2;n.setScale(n.scale/n.zoomStep);n.zoomCurStep--;jQuery("#zoomSlider").css("top",parseInt(jQuery("#zoomSlider").css("top"),10)+t)}})},setScale:function(n){this.scale=n;this.applyTransform()},getCountryId:function(n){return"jqvmap"+this.index+"_"+n}};t.xlink="http://www.w3.org/1999/xlink";t.mapIndex=1;t.maps={};i=function(n,t,i,r){n&&this.setColors(n);t&&this.setNormalizeFunction(t);i&&this.setMin(i);i&&this.setMax(r)};i.prototype={colors:[],setMin:function(n){this.clearMinValue=n;this.minValue=typeof this.normalize=="function"?this.normalize(n):n},setMax:function(n){this.clearMaxValue=n;this.maxValue=typeof this.normalize=="function"?this.normalize(n):n},setColors:function(n){for(var t=0;t<n.length;t++)n[t]=i.rgbToArray(n[t]);this.colors=n},setNormalizeFunction:function(n){n==="polynomial"?this.normalize=function(n){return Math.pow(n,.2)}:n==="linear"?delete this.normalize:this.normalize=n;this.setMin(this.clearMinValue);this.setMax(this.clearMaxValue)},getColor:function(n){var i,u,f,t,e,r;for(typeof this.normalize=="function"&&(n=this.normalize(n)),i=[],u=0,t=0;t<this.colors.length-1;t++)f=this.vectorLength(this.vectorSubtract(this.colors[t+1],this.colors[t])),i.push(f),u+=f;for(e=(this.maxValue-this.minValue)/u,t=0;t<i.length;t++)i[t]*=e;for(t=0,n-=this.minValue;n-i[t]>=0;)n-=i[t],t++;for(r=t==this.colors.length-1?this.vectorToNum(this.colors[t]).toString(16):this.vectorToNum(this.vectorAdd(this.colors[t],this.vectorMult(this.vectorSubtract(this.colors[t+1],this.colors[t]),n/i[t]))).toString(16);r.length<6;)r="0"+r;return"#"+r},vectorToNum:function(n){for(var i=0,t=0;t<n.length;t++)i+=Math.round(n[t])*Math.pow(256,n.length-t-1);return i},vectorSubtract:function(n,t){for(var r=[],i=0;i<n.length;i++)r[i]=n[i]-t[i];return r},vectorAdd:function(n,t){for(var r=[],i=0;i<n.length;i++)r[i]=n[i]+t[i];return r},vectorMult:function(n,t){for(var r=[],i=0;i<n.length;i++)r[i]=n[i]*t;return r},vectorLength:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t]*n[t];return Math.sqrt(i)}};i.arrayToRgb=function(n){for(var r="#",t,i=0;i<n.length;i++)t=n[i].toString(16),r+=t.length==1?"0"+t:t;return r};i.rgbToArray=function(n){return n=n.substr(1),[parseInt(n.substr(0,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(4,2),16)]}})(jQuery);
/*
//# sourceMappingURL=jquery.vmap.min.js.map
*/