(function(n){"use strict";n.fn.extend({maxlength:function(t,i){function f(n){var f=n.val(),i=f.match(/\n/g),r=0,u=0;return t.utf8?(r=i?getUTF8Length(i):0,u=getUTF8Length(n.val())+r):(r=i?i.length:0,u=n.val().length+r),u}function l(n,i,r){var u=!0;return!t.alwaysShow&&r-f(n)>i&&(u=!1),u}function e(n,t){return t-f(n)}function o(n){n.css({display:"block"})}function a(n){n.css({display:"none"})}function s(n,i){var r="";return t.message?r=t.message.replace("%charsTyped%",i).replace("%charsRemaining%",n-i).replace("%charsTotal%",n):(t.preText&&(r+=t.preText),r+=t.showCharsTyped?i:n-i,t.showMaxLength&&(r+=t.separator+n),t.postText&&(r+=t.postText)),r}function h(n,i,r,u){u.html(s(r,r-n));n>0?l(i,t.threshold,r)?o(u.removeClass(t.limitReachedClass).addClass(t.warningClass)):a(u):o(u.removeClass(t.warningClass).addClass(t.limitReachedClass))}function v(t){var i=t[0];return n.extend({},typeof i.getBoundingClientRect=="function"?i.getBoundingClientRect():{width:i.offsetWidth,height:i.offsetHeight},t.offset())}function u(n,i){var r=v(n),o=n.outerWidth(),f=i.outerWidth(),e=i.width(),u=i.height();switch(t.placement){case"bottom":i.css({top:r.top+r.height,left:r.left+r.width/2-e/2});break;case"top":i.css({top:r.top-u,left:r.left+r.width/2-e/2});break;case"left":i.css({top:r.top+r.height/2-u/2,left:r.left-e});break;case"right":i.css({top:r.top+r.height/2-u/2,left:r.left+r.width});break;case"bottom-right":i.css({top:r.top+r.height,left:r.left+r.width});break;case"top-right":i.css({top:r.top-u,left:r.left+o});break;case"top-left":i.css({top:r.top-u,left:r.left-f});break;case"bottom-left":i.css({top:r.top+n.outerHeight(),left:r.left-f});break;case"centered-right":i.css({top:r.top+u/2,left:r.left+o-f-3})}}function r(n){return n.attr("maxlength")||n.attr("size")}var c=n("body");return n.isFunction(t)&&!i&&(i=t,t={}),t=n.extend({alwaysShow:!1,threshold:10,warningClass:"label label-success",limitReachedClass:"label label-important",separator:" / ",preText:"",postText:"",showMaxLength:!0,placement:"bottom",showCharsTyped:!0,validate:!1,utf8:!1},t),this.each(function(){var i=n(this),o=r(i),f=n("<span><\/span>").css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:1099}).html(s(o,"0"));i.is("textarea")&&(i.data("maxlenghtsizex",i.outerWidth()),i.data("maxlenghtsizey",i.outerHeight()),i.mouseup(function(){(i.outerWidth()!==i.data("maxlenghtsizex")||i.outerHeight()!==i.data("maxlenghtsizey"))&&u(i,f);i.data("maxlenghtsizex",i.outerWidth());i.data("maxlenghtsizey",i.outerHeight())}));c.append(f);i.focus(function(){var n=e(i,r(i));h(n,i,o,f);u(i,f)});n(window).resize(function(){u(i,f)});i.blur(function(){f.css("display","none")});i.keyup(function(n){var u=e(i,r(i)),s=!0,c=n.keyCode||n.which;return u!==0||c!==9||n.shiftKey||i.attr("maxlength",r(i)+1).trigger({type:"keypress",which:9}).attr("maxlength",r(i)-1),t.validate&&u<0?s=!1:h(u,i,o,f),s})})}})})(jQuery);
/*
//# sourceMappingURL=bootstrap-maxlength.min.js.map
*/