(function(n,t){function pt(t){n.extend(!0,k,t)}function ki(u,f,e){function ei(n){a?(lt(),kt(),ti(),p(n)):oi()}function oi(){fi=f.theme?"ui":"fc";u.addClass("fc");f.isRTL?u.addClass("fc-rtl"):u.addClass("fc-ltr");f.theme&&u.addClass("ui-widget");a=n("<div class='fc-content' style='position:relative'/>").prependTo(u);b=new di(h,f);k=b.render();k&&u.prepend(k);wt(f.defaultView);n(window).resize(dt);pt()||yt()}function yt(){setTimeout(function(){!o.start&&pt()&&p()},0)}function si(){n(window).unbind("resize",dt);b.destroy();a.remove();u.removeClass("fc fc-rtl ui-widget")}function ft(){return nt.offsetWidth!==0}function pt(){return n("body")[0].offsetWidth!==0}function wt(t){if(!o||t!=o.name){y++;ot();var i=o,r;i?((i.beforeHide||ui)(),l(a,a.height()),i.element.hide()):l(a,1);a.css("overflow","hidden");o=tt[t];o?o.element.show():o=tt[t]=new s[t](r=ut=n("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(a),h);i&&b.deactivateButton(i.name);b.activateButton(t);p();a.css("overflow","");i&&l(a,1);r||(o.afterShow||ui)();y--}}function p(n){var i,r;ft()&&(y++,ot(),d===t&&lt(),i=!1,!o.start||n||v<o.start||v>=o.end?(o.render(v,n||0),at(!0),i=!0):o.sizeDirty?(o.clearEvents(),at(),i=!0):o.eventsDirty&&(o.clearEvents(),i=!0),o.sizeDirty=!1,o.eventsDirty=!1,hi(i),ht=u.outerWidth(),b.updateTitle(o.title),r=new Date,r>=o.start&&r<o.end?b.disableButton("today"):b.enableButton("today"),y--,o.trigger("viewDisplay",nt))}function bt(){kt();ft()&&(lt(),at(),ot(),o.clearEvents(),o.renderEvents(ct),o.sizeDirty=!1)}function kt(){n.each(tt,function(n,t){t.sizeDirty=!0})}function lt(){d=f.contentHeight?f.contentHeight:f.height?f.height-(k?k.height():0)-w(a):Math.round(a.width()/Math.max(f.aspectRatio,.5))}function at(n){y++;o.setHeight(d,n);ut&&(ut.css("position","relative"),ut=null);o.setWidth(a.width(),n);y--}function dt(){if(!y)if(o.start){var n=++vt;setTimeout(function(){n==vt&&!y&&ft()&&ht!=(ht=u.outerWidth())&&(y++,bt(),o.trigger("windowResize",nt),y--)},200)}else yt()}function hi(n){!f.lazyFetching||ii(o.visStart,o.visEnd)?ni():n&&et()}function ni(){ri(o.visStart,o.visEnd)}function ci(n){ct=n;et()}function li(n){et(n)}function et(n){ti();ft()&&(o.clearEvents(),o.renderEvents(ct,n),o.eventsDirty=!1)}function ti(){n.each(tt,function(n,t){t.eventsDirty=!0})}function ai(n,i,r){o.select(n,i,r===t?!0:r)}function ot(){o&&o.unselect()}function vi(){p(-1)}function yi(){p(1)}function pi(){it(v,-1);p()}function wi(){it(v,1);p()}function bi(){v=new Date;p()}function ki(n,t,r){n instanceof Date?v=i(n):gt(v,n,t,r);p()}function nr(n,i,u){n!==t&&it(v,n);i!==t&&rt(v,i);u!==t&&r(v,u);p()}function tr(){return i(v)}function ir(){return o}function rr(n,i){if(i===t)return f[n];(n=="height"||n=="contentHeight"||n=="aspectRatio")&&(f[n]=i,bt())}function ur(n,t){if(f[n])return f[n].apply(t||nt,Array.prototype.slice.call(arguments,2))}var h=this;h.options=f;h.render=ei;h.destroy=si;h.refetchEvents=ni;h.reportEvents=ci;h.reportEventChange=li;h.rerenderEvents=et;h.changeView=wt;h.select=ai;h.unselect=ot;h.prev=vi;h.next=yi;h.prevYear=pi;h.nextYear=wi;h.today=bi;h.gotoDate=ki;h.incrementDate=nr;h.formatDate=function(n,t){return c(n,t,f)};h.formatDates=function(n,t,i){return st(n,t,i,f)};h.getDate=tr;h.getView=ir;h.option=rr;h.trigger=ur;gi.call(h,f,e);var ii=h.isFetchNeeded,ri=h.fetchEvents,nt=u[0],b,k,a,fi,o,tt={},ht,d,ut,vt=0,y=0,v=new Date,ct=[],g;gt(v,f.year,f.month,f.date);f.droppable&&n(document).bind("dragstart",function(t,i){var u=t.target,e=n(u),r;e.parents(".fc").length||(r=f.dropAccept,(n.isFunction(r)?r.call(u,e):e.is(r))&&(g=u,o.dragStart(g,t,i)))}).bind("dragstop",function(n,t){g&&(o.dragStop(g,n,t),g=null)})}function di(t,i){function o(){r=i.theme?"ui":"fc";var t=i.header;if(t)return u=n("<table class='fc-header' style='width:100%'/>").append(n("<tr/>").append(e("left")).append(e("center")).append(e("right")))}function h(){u.remove()}function e(u){var f=n("<td class='fc-header-"+u+"'/>"),e=i.header[u];return e&&n.each(e.split(" "),function(u){u>0&&f.append("<span class='fc-header-space'/>");var e;n.each(this.split(","),function(u,o){var c;if(o=="title")f.append("<span class='fc-header-title'><h2>&nbsp;<\/h2><\/span>"),e&&e.addClass(r+"-corner-right"),e=null;else if(t[o]?c=t[o]:s[o]&&(c=function(){h.removeClass(r+"-state-hover");t.changeView(o)}),c){var l=i.theme?vt(i.buttonIcons,o):null,a=vt(i.buttonText,o),h=n("<span class='fc-button fc-button-"+o+" "+r+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/><\/span>":a)+"<\/span>").click(function(){h.hasClass(r+"-state-disabled")||c()}).mousedown(function(){h.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-down")}).mouseup(function(){h.removeClass(r+"-state-down")}).hover(function(){h.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-hover")},function(){h.removeClass(r+"-state-hover").removeClass(r+"-state-down")}).appendTo(f);d(h);e||h.addClass(r+"-corner-left");e=h}});e&&e.addClass(r+"-corner-right")}),f}function c(n){u.find("h2").html(n)}function l(n){u.find("span.fc-button-"+n).addClass(r+"-state-active")}function a(n){u.find("span.fc-button-"+n).removeClass(r+"-state-active")}function v(n){u.find("span.fc-button-"+n).addClass(r+"-state-disabled")}function y(n){u.find("span.fc-button-"+n).removeClass(r+"-state-disabled")}var f=this,u,r;f.render=o;f.destroy=h;f.updateTitle=c;f.activateButton=l;f.deactivateButton=a;f.disableButton=v;f.enableButton=y;u=n([])}function gi(r,u){function ht(n,t){return!h||n<h||t>l}function ct(n,t){var u,r,i;for(h=n,l=t,e=[],u=++w,r=s.length,v=r,i=0;i<r;i++)g(s[i],u)}function g(t,i){tt(t,function(u){if(i==w){if(u){r.eventDataTransform&&(u=n.map(u,r.eventDataTransform));t.eventDataTransform&&(u=n.map(u,t.eventDataTransform));for(var f=0;f<u.length;f++)u[f].source=t,a(u[f]);e=e.concat(u)}v--;v||c(e)}})}function tt(t,u){for(var a=f.sourceFetchers,s,e,v,o=0;o<a.length;o++){if(s=a[o](t,h,l,u),s===!0)return;if(typeof s=="object"){tt(s,u);return}}if(e=t.events,e)n.isFunction(e)?(rt(),e(i(h),i(l),function(n){u(n);ut()})):n.isArray(e)?u(e):u();else if(v=t.url,v){var w=t.success,k=t.error,d=t.complete,c=n.extend({},t.data||{}),y=b(t.startParam,r.startParam),p=b(t.endParam,r.endParam);y&&(c[y]=Math.round(+h/1e3));p&&(c[p]=Math.round(+l/1e3));rt();n.ajax(n.extend({},wt,t,{data:c,success:function(t){t=t||[];var i=nt(w,this,arguments);n.isArray(i)&&(t=i);u(t)},error:function(){nt(k,this,arguments);u()},complete:function(){nt(d,this,arguments);ut()}}))}else u()}function lt(n){n=it(n);n&&(v++,g(n,w))}function it(t){return n.isFunction(t)||n.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t}),typeof t=="object"?(dt(t),s.push(t),t):void 0}function at(t){s=n.grep(s,function(n){return!et(n,t)});e=n.grep(e,function(n){return!et(n.source,t)});c(e)}function vt(n){for(var f=e.length,t,r=st().defaultEventEnd,o=n.start-n._start,u=n.end?n.end-(n._end||r(n)):0,i=0;i<f;i++)t=e[i],t._id==n._id&&t!=n&&(t.start=new Date(+t.start+o),t.end=n.end?t.end?new Date(+t.end+u):new Date(+r(t)+u):null,t.title=n.title,t.url=n.url,t.allDay=n.allDay,t.className=n.className,t.editable=n.editable,t.color=n.color,t.backgroudColor=n.backgroudColor,t.borderColor=n.borderColor,t.textColor=n.textColor,a(t));a(n);c(e)}function yt(n,t){a(n);n.source||(t&&(p.events.push(n),n.source=p),e.push(n));c(e)}function pt(t){var r,i;if(t)for(n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),e=n.grep(e,t,!0),i=0;i<s.length;i++)n.isArray(s[i].events)&&(s[i].events=n.grep(s[i].events,t,!0));else for(e=[],i=0;i<s.length;i++)n.isArray(s[i].events)&&(s[i].events=[]);c(e)}function kt(t){return n.isFunction(t)?n.grep(e,t):t?(t+="",n.grep(e,function(n){return n._id==t})):e}function rt(){d++||k("loading",null,!0)}function ut(){--d||k("loading",null,!1)}function a(n){var u=n.source||{},f=b(u.ignoreTimezone,r.ignoreTimezone);n._id=n._id||(n.id===t?"_fc"+bt++:n.id+"");n.date&&(n.start||(n.start=n.date),delete n.date);n._start=i(n.start=ft(n.start,f));n.end=ft(n.end,f);n.end&&n.end<=n.start&&(n.end=null);n._end=n.end?i(n.end):null;n.allDay===t&&(n.allDay=b(u.allDayDefault,r.allDayDefault));n.className?typeof n.className=="string"&&(n.className=n.className.split(/\s+/)):n.className=[]}function dt(n){var i,t;for(n.className?typeof n.className=="string"&&(n.className=n.className.split(/\s+/)):n.className=[],i=f.sourceNormalizers,t=0;t<i.length;t++)i[t](n)}function et(n,t){return n&&t&&ot(n)==ot(t)}function ot(n){return(typeof n=="object"?n.events||n.url:"")||n}var o=this,y;o.isFetchNeeded=ht;o.fetchEvents=ct;o.addEventSource=lt;o.removeEventSource=at;o.updateEvent=vt;o.renderEvent=yt;o.removeEvents=pt;o.clientEvents=kt;o.normalizeEvent=a;var k=o.trigger,st=o.getView,c=o.reportEvents,p={events:[]},s=[p],h,l,w=0,v=0,d=0,e=[];for(y=0;y<u.length;y++)it(u[y])}function it(n,t,i){return n.setFullYear(n.getFullYear()+t),i||h(n),n}function rt(n,t,r){if(+n){var f=n.getMonth()+t,u=i(n);for(u.setDate(1),u.setMonth(f),n.setMonth(f),r||h(n);n.getMonth()!=u.getMonth();)n.setDate(n.getDate()+(n<u?1:-1))}return n}function r(n,t,r){if(+n){var f=n.getDate()+t,u=i(n);u.setHours(9);u.setDate(f);n.setDate(f);r||h(n);ut(n,u)}return n}function ut(n,t){if(+n)while(n.getDate()!=t.getDate())n.setTime(+n+(n<t?1:-1)*nr)}function u(n,t){return n.setMinutes(n.getMinutes()+t),n}function h(n){return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}function i(n,t){return t?h(new Date(+n)):new Date(+n)}function dt(){var t=0,n;do n=new Date(1970,t++,1);while(n.getHours());return n}function o(n,t,i){for(t=t||1;!n.getDay()||i&&n.getDay()==1||!i&&n.getDay()==6;)r(n,t);return n}function e(n,t){return Math.round((i(n,!0)-i(t,!0))/kt)}function gt(n,i,r,u){i!==t&&i!=n.getFullYear()&&(n.setDate(1),n.setMonth(0),n.setFullYear(i));r!==t&&r!=n.getMonth()&&(n.setDate(1),n.setMonth(r));u!==t&&n.setDate(u)}function ft(n,i){return typeof n=="object"?n:typeof n=="number"?new Date(n*1e3):typeof n=="string"?n.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(n)*1e3):(i===t&&(i=!0),et(n,i)||(n?new Date(n):null)):null}function et(n,t){var i=n.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/),r,u,f;return i?(r=new Date(i[1],0,1),t||!i[13]?(u=new Date(i[1],0,1,9,0),i[3]&&(r.setMonth(i[3]-1),u.setMonth(i[3]-1)),i[5]&&(r.setDate(i[5]),u.setDate(i[5])),ut(r,u),i[7]&&r.setHours(i[7]),i[8]&&r.setMinutes(i[8]),i[10]&&r.setSeconds(i[10]),i[12]&&r.setMilliseconds(Number("0."+i[12])*1e3),ut(r,u)):(r.setUTCFullYear(i[1],i[3]?i[3]-1:0,i[5]||1),r.setUTCHours(i[7]||0,i[8]||0,i[10]||0,i[12]?Number("0."+i[12])*1e3:0),i[14]&&(f=Number(i[16])*60+(i[18]?Number(i[18]):0),f*=i[15]=="-"?1:-1,r=new Date(+r+f*6e4))),r):null}function ot(n){var t,i;return typeof n=="number"?n*60:typeof n=="object"?n.getHours()*60+n.getMinutes():(t=n.match(/(\d+)(?::(\d+))?\s*(\w+)?/),t?(i=parseInt(t[1],10),t[3]&&(i%=12,t[3].toLowerCase().charAt(0)=="p"&&(i+=12)),i*60+(t[2]?parseInt(t[2],10):0)):void 0)}function c(n,t,i){return st(n,null,t,i)}function st(n,t,i,r){var v,h;r=r||k;for(var e=n,a=t,l=i.length,o,u,y,s="",f=0;f<l;f++)if(o=i.charAt(f),o=="'"){for(u=f+1;u<l;u++)if(i.charAt(u)=="'"){e&&(s+=u==f+1?"'":i.substring(f+1,u),f=u);break}}else if(o=="("){for(u=f+1;u<l;u++)if(i.charAt(u)==")"){h=c(e,i.substring(f+1,u),r);parseInt(h.replace(/\D/,""),10)&&(s+=h);f=u;break}}else if(o=="["){for(u=f+1;u<l;u++)if(i.charAt(u)=="]"){v=i.substring(f+1,u);h=c(e,v,r);h!=c(a,v,r)&&(s+=h);f=u;break}}else if(o=="{")e=t,a=n;else if(o=="}")e=n,a=t;else{for(u=l;u>f;u--)if(y=ht[i.substring(f,u)]){e&&(s+=y(e,r));f=u-1;break}u==f&&e&&(s+=o)}return s}function ir(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}function y(n){return n.end?rr(n.end,n.allDay):r(i(n.start),1)}function rr(n,t){return n=i(n),t||n.getHours()||n.getMinutes()?r(n,1):h(n)}function ur(n,t){return(t.msLength-n.msLength)*100+(n.event.start-t.event.start)}function ni(n,t){return n.end>t.start&&n.start<t.end}function ct(n,t,r,u){for(var v=[],y=n.length,c,e,o,s,h,l,a,f=0;f<y;f++)c=n[f],e=c.start,o=t[f],o>r&&e<u&&(e<r?(s=i(r),l=!1):(s=e,l=!0),o>u?(h=i(u),a=!1):(h=o,a=!0),v.push({event:c,start:s,end:h,isStart:l,isEnd:a,msLength:h-s}));return v.sort(ur)}function lt(n){for(var i=[],o=n.length,u,t,e,f,r=0;r<o;r++){for(u=n[r],t=0;;){if(e=!1,i[t])for(f=0;f<i[t].length;f++)if(ni(i[t][f],u)){e=!0;break}if(e)t++;else break}i[t]?i[t].push(u):i[t]=[u]}return i}function ti(i,r,u){i.unbind("mouseover").mouseover(function(i){for(var f=i.target,o,s,e;f!=this;)o=f,f=f.parentNode;(s=o._fci)!==t&&(o._fci=t,e=r[s],u(e.event,e.element,e),n(i.target).trigger(i));i.stopPropagation()})}function p(t,i,r){for(var u=0,f;u<t.length;u++)f=n(t[u]),f.width(Math.max(0,i-at(f,r)))}function ii(t,i,r){for(var u=0,f;u<t.length;u++)f=n(t[u]),f.height(Math.max(0,i-w(f,r)))}function at(n,t){return fr(n)+or(n)+(t?er(n):0)}function fr(t){return(parseFloat(n.css(t[0],"paddingLeft",!0))||0)+(parseFloat(n.css(t[0],"paddingRight",!0))||0)}function er(t){return(parseFloat(n.css(t[0],"marginLeft",!0))||0)+(parseFloat(n.css(t[0],"marginRight",!0))||0)}function or(t){return(parseFloat(n.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(n.css(t[0],"borderRightWidth",!0))||0)}function w(n,t){return sr(n)+hr(n)+(t?ri(n):0)}function sr(t){return(parseFloat(n.css(t[0],"paddingTop",!0))||0)+(parseFloat(n.css(t[0],"paddingBottom",!0))||0)}function ri(t){return(parseFloat(n.css(t[0],"marginTop",!0))||0)+(parseFloat(n.css(t[0],"marginBottom",!0))||0)}function hr(t){return(parseFloat(n.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(n.css(t[0],"borderBottomWidth",!0))||0)}function l(n,t){t=typeof t=="number"?t+"px":t;n.each(function(n,i){i.style.cssText+=";min-height:"+t+";_height:"+t})}function ui(){}function fi(n,t){return n-t}function ei(n){return Math.max.apply(Math,n)}function a(n){return(n<10?"0":"")+n}function vt(n,i){if(n[i]!==t)return n[i];for(var f=i.split(/(?=[A-Z])/),r=f.length-1,u;r>=0;r--)if(u=n[f[r].toLowerCase()],u!==t)return u;return n[""]}function v(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function oi(n){return n.id+"/"+n.className+"/"+n.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function d(n){n.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function g(n){n.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function cr(n,t){n.each(function(n,i){i.className=i.className.replace(/^fc-\w*/,"fc-"+tt[t.getDay()])})}function si(n,t){var i=n.source||{},u=n.color,f=i.color,e=t("eventColor"),o=n.backgroundColor||u||i.backgroundColor||f||t("eventBackgroundColor")||e,s=n.borderColor||u||i.borderColor||f||t("eventBorderColor")||e,h=n.textColor||i.textColor||t("eventTextColor"),r=[];return o&&r.push("background-color:"+o),s&&r.push("border-color:"+s),h&&r.push("color:"+h),r.join(";")}function nt(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;u<t.length;u++)f=t[u].apply(i,r)||f;return f}}function b(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==t)return arguments[n]}function lr(n,t){function h(n,t){var h,v;t&&(rt(n,t),n.setDate(1));h=i(n,!0);h.setDate(1);var y=rt(i(h),1),l=i(h),c=i(y),p=f("firstDay"),a=f("weekends")?0:1;a&&(o(l),o(c,-1,!0));r(l,-((l.getDay()-Math.max(p,a)+7)%7));r(c,(7-c.getDay()+Math.max(p,a))%7);v=Math.round((c-l)/(kt*7));f("weekMode")=="fixed"&&(r(c,(6-v)*7),v=6);u.title=s(h,f("titleFormat"));u.start=h;u.end=y;u.visStart=l;u.visEnd=c;e(v,a?5:7,!0)}var u=this;u.render=h;yt.call(u,n,t,"month");var f=u.opt,e=u.renderBasic,s=t.formatDate}function ar(n,t){function h(n,t){t&&r(n,t*7);var h=r(i(n),-((n.getDay()-f("firstDay")+7)%7)),a=r(i(h),7),c=i(h),l=i(a),v=f("weekends");v||(o(c),o(l,-1,!0));u.title=s(c,r(i(l),-1),f("titleFormat"));u.start=h;u.end=a;u.visStart=c;u.visEnd=l;e(1,v?7:5,!1)}var u=this;u.render=h;yt.call(u,n,t,"basicWeek");var f=u.opt,e=u.renderBasic,s=t.formatDates}function vr(n,t){function h(n,t){t&&(r(n,t),f("weekends")||o(n,t<0?-1:1));u.title=s(n,f("titleFormat"));u.start=u.visStart=i(n,!0);u.end=u.visEnd=r(i(u.start),1);e(1,1,!1)}var u=this;u.render=h;yt.call(u,n,t,"basicDay");var f=u.opt,e=u.renderBasic,s=t.formatDate}function yt(t,u,f){function ir(n,t,i){a=n;s=t;rr();var r=!rt;r?ur():gi();fr(i)}function rr(){kt=c("isRTL");kt?(k=-1,nt=s-1):(k=1,nt=0);ri=c("firstDay");ui=c("weekends")?0:1;vt=c("theme")?"ui":"fc";fi=c("columnFormat");b=c("weekNumbers");ei=c("weekNumberTitle");dt=c("weekNumberCalculation")!="iso"?"w":"W"}function ur(){ti=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function fr(i){var r="",u,c,l=vt+"-widget-header",p=vt+"-widget-content",w=o.start.getMonth(),k=h(new Date),f,e;for(r+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",b&&(r+="<th class='fc-week-number "+l+"'/>"),u=0;u<s;u++)f=ut(0,u),r+="<th class='fc-day-header fc-"+tt[f.getDay()]+" "+l+"'/>";for(r+="<\/tr><\/thead><tbody>",u=0;u<a;u++){for(r+="<tr class='fc-week'>",b&&(r+="<td class='fc-week-number "+p+"'><div/><\/td>"),c=0;c<s;c++)f=ut(u,c),e=["fc-day","fc-"+tt[f.getDay()],p],f.getMonth()!=w&&e.push("fc-other-month"),+f==+k&&(e.push("fc-today"),e.push(vt+"-state-highlight")),r+="<td class='"+e.join(" ")+"' data-date='"+pt(f,"yyyy-MM-dd")+"'><div>",i&&(r+="<div class='fc-day-number'>"+f.getDate()+"<\/div>"),r+="<div class='fc-day-content'><div style='position:relative'>&nbsp;<\/div><\/div><\/div><\/td>";r+="<\/tr>"}r+="<\/tbody><\/table>";nu();it&&it.remove();it=n(r).appendTo(t);y=it.find("thead");ot=y.find(".fc-day-header");rt=it.find("tbody");v=rt.find("tr");st=rt.find(".fc-day");gt=v.find("td:first-child");ni=v.eq(0).find(".fc-day-content > div");g(y.add(y.find("tr")));g(v);v.eq(0).addClass("fc-first");v.filter(":last").addClass("fc-last");b&&y.find(".fc-week-number").text(ei);ot.each(function(t,i){var r=ki(t);n(i).text(pt(r,fi))});b&&rt.find(".fc-week-number > div").each(function(t,i){var r=ut(t,0);n(i).text(pt(r,dt))});st.each(function(t,i){var r=ki(t);ft("dayRender",o,r,n(i))});oi(st)}function er(t){ii=t;var r=ii-y.height(),i,u,f;c("weekMode")=="variable"?i=u=Math.floor(r/(a==1?2:6)):(i=Math.floor(r/a),u=r-i*(a-1));gt.each(function(t,r){t<a&&(f=n(r),l(f.find("> div"),(t==a-1?u:i)-w(f)))});tu()}function or(n){wt=n;at.clear();ht=0;b&&(ht=y.find("th.fc-week-number").outerWidth());bt=Math.floor((wt-ht)/s);p(ot.slice(0,-1),bt)}function oi(n){n.click(sr).mousedown(tr)}function sr(t){if(!c("selectable")){var i=et(n(this).data("date"));ft("dayClick",this,i,!0,t)}}function si(n,t,u){var f,v,h,c,l,y,p;for(u&&ct.build(),f=i(o.visStart),v=r(i(f),s),h=0;h<a;h++)c=new Date(Math.max(f,n)),l=new Date(Math.min(v,t)),c<l&&(kt?(y=e(l,f)*k+nt+1,p=e(c,f)*k+nt+1):(y=e(c,f),p=e(l,f)),oi(hi(h,y,h,p-1))),r(f,7),r(v,7)}function hi(n,i,r,u){var f=ct.rect(n,i,r,u,t);return nr(f,t)}function hr(n){return i(n)}function cr(n,t){si(n,r(i(t),1),!0)}function lr(){yt()}function ar(n,t,i){var r=li(n),u=st[r.row*s+r.col];ft("dayClick",u,n,t,i)}function vr(n,t){lt.start(function(n){yt();n&&hi(n.row,n.col,n.row,n.col)},t)}function pr(n,t,i){var r=lt.stop(),u;yt();r&&(u=bi(r),ft("drop",n,u,!0,t,i))}function wr(n){return i(n.start)}function br(n){return at.left(n)}function kr(n){return at.right(n)}function li(n){return{row:Math.floor(e(n,o.visStart)/7),col:di(n.getDay())}}function bi(n){return ut(n.row,n.col)}function ut(n,t){return r(i(o.visStart),n*7+t*k+nt)}function ki(n){return ut(Math.floor(n/s),n%s)}function di(n){return(n-Math.max(ri,ui)+s)%s*k+nt}function dr(n){return v.eq(n)}function gr(){var n=0;return b&&(n+=ht),{left:n,right:wt}}function nu(){l(t,t.height())}function tu(){l(t,1)}var o=this;o.renderBasic=ir;o.setHeight=er;o.setWidth=or;o.renderDayOverlay=si;o.defaultSelectionEnd=hr;o.renderSelection=cr;o.clearSelection=lr;o.reportDayClick=ar;o.dragStart=vr;o.dragStop=pr;o.defaultEventEnd=wr;o.getHoverListener=function(){return lt};o.colContentLeft=br;o.colContentRight=kr;o.dayOfWeekCol=di;o.dateCell=li;o.cellDate=bi;o.cellIsAllDay=function(){return!0};o.allDayRow=dr;o.allDayBounds=gr;o.getRowCnt=function(){return a};o.getColCnt=function(){return s};o.getColWidth=function(){return bt};o.getDaySegmentContainer=function(){return ti};ci.call(o,t,u,f);vi.call(o);ai.call(o);yr.call(o);var c=o.opt,ft=o.trigger,gi=o.clearEvents,nr=o.renderOverlay,yt=o.clearOverlays,tr=o.daySelectionMousedown,pt=u.formatDate,it,y,ot,rt,v,st,gt,ni,ti,wt,ii,bt,ht,a,s,ct,lt,at,kt,k,nt,ri,ui,vt,fi,b,ei,dt;d(t.addClass("fc-grid"));ct=new yi(function(t,i){var f,r,u;ot.each(function(t,e){f=n(e);r=f.offset().left;t&&(u[1]=r);u=[r];i[t]=u});u[1]=r+f.outerWidth();v.each(function(i,e){i<a&&(f=n(e),r=f.offset().top,i&&(u[1]=r),u=[r],t[i]=u)});u[1]=r+f.outerHeight()});lt=new pi(ct);at=new wi(function(n){return ni.eq(n)})}function yr(){function rt(n,t){c(n);tt(o(n),t);f("eventAfterAllRender")}function ut(){l();b().empty()}function o(u){for(var p=g(),w=nt(),h=i(t.visStart),a=r(i(h),w),b=n.map(u,y),c,f,l,o,s,v=[],e=0;e<p;e++){for(c=lt(ct(u,b,h,a)),f=0;f<c.length;f++)for(l=c[f],o=0;o<l.length;o++)s=l[o],s.row=e,s.level=f,v.push(s);r(h,7);r(a,7)}return v}function ft(n,t,i){s(n)&&et(n,t);i.isEnd&&h(n)&&it(n,t,i);a(n,t)}function et(n,t){var s=k(),o;t.draggable({zIndex:9,delay:50,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(h,c){f("eventDragStart",t,n,h,c);p(n,t);s.start(function(f,s,h,c){t.draggable("option","revert",!f||!h&&!c);e();f?(o=h*7+c*(u("isRTL")?-1:1),d(r(i(n.start),o),r(y(n),o))):o=0},h,"drag")},stop:function(i,r){s.stop();e();f("eventDragStop",t,n,i,r);o?w(this,n,o,0,n.allDay,i,r):(t.css("filter",""),v(n,t))}})}var t=this;t.renderEvents=rt;t.compileDaySegs=o;t.clearEvents=ut;t.bindDaySeg=ft;li.call(t);var u=t.opt,f=t.trigger,s=t.isEventDraggable,h=t.isEventResizable,c=t.reportEvents,l=t.reportEventClear,a=t.eventElementHandlers,v=t.showEvents,p=t.hideEvents,w=t.eventDrop,b=t.getDaySegmentContainer,k=t.getHoverListener,d=t.renderDayOverlay,e=t.clearOverlays,g=t.getRowCnt,nt=t.getColCnt,tt=t.renderDaySegs,it=t.resizableDayEvent}function pr(n,t){function h(n,t){t&&r(n,t*7);var h=r(i(n),-((n.getDay()-f("firstDay")+7)%7)),a=r(i(h),7),c=i(h),l=i(a),v=f("weekends");v||(o(c),o(l,-1,!0));u.title=s(c,r(i(l),-1),f("titleFormat"));u.start=h;u.end=a;u.visStart=c;u.visEnd=l;e(v?7:5)}var u=this;u.render=h;hi.call(u,n,t,"agendaWeek");var f=u.opt,e=u.renderAgenda,s=t.formatDates}function wr(n,t){function h(n,t){t&&(r(n,t),f("weekends")||o(n,t<0?-1:1));var h=i(n,!0),c=r(i(h),1);u.title=s(n,f("titleFormat"));u.start=u.visStart=h;u.end=u.visEnd=c;e(1)}var u=this;u.render=h;hi.call(u,n,t,"agendaDay");var f=u.opt,e=u.renderAgenda,s=t.formatDate}function hi(f,o,s){function pu(n){a=n;wu();st?cu():bu();ku()}function wu(){wt=l("theme")?"ui":"fc";nu=l("weekends")?0:1;gr=l("firstDay");(ur=l("isRTL"))?(nt=-1,tt=a-1):(nt=1,tt=0);et=ot(l("minTime"));si=ot(l("maxTime"));tu=l("columnFormat");fr=l("weekNumbers");er=l("weekNumberTitle");or=l("weekNumberCalculation")!="iso"?"w":"W";at=l("snapMinutes")||l("slotMinutes")}function bu(){var e=wt+"-widget-header",s=wt+"-widget-content",t,r,o,c,h,y=l("slotMinutes")%15==0;for(t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr>",t+=fr?"<th class='fc-agenda-axis fc-week-number "+e+"'/>":"<th class='fc-agenda-axis "+e+"'>&nbsp;<\/th>",r=0;r<a;r++)t+="<th class='fc- fc-col"+r+" "+e+"'/>";for(t+="<th class='fc-agenda-gutter "+e+"'>&nbsp;<\/th><\/tr><\/thead><tbody><tr><th class='fc-agenda-axis "+e+"'>&nbsp;<\/th>",r=0;r<a;r++)t+="<td class='fc- fc-col"+r+" "+s+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;<\/div><\/div><\/div><\/td>";for(t+="<td class='fc-agenda-gutter "+s+"'>&nbsp;<\/td><\/tr><\/tbody><\/table>",st=n(t).appendTo(f),ht=st.find("thead"),gt=ht.find("th").slice(1,-1),pt=st.find("tbody"),it=pt.find("td").slice(0,-1),ar=it.find("div.fc-day-content div"),di=it.eq(0),vr=di.find("> div"),g(ht.add(ht.find("tr"))),g(pt.add(pt.find("tr"))),ct=ht.find("th:first"),lt=st.find(".fc-agenda-gutter"),k=n("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(f),l("allDaySlot")?(gi=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(k),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+e+" fc-agenda-axis'>"+l("allDayText")+"<\/th><td><div class='fc-day-content'><div style='position:relative'/><\/div><\/td><th class='"+e+" fc-agenda-gutter'>&nbsp;<\/th><\/tr><\/table>",ni=n(t).appendTo(k),ti=ni.find("tr"),iu(ti.find("td")),ct=ct.add(ni.find("th:first")),lt=lt.add(ni.find("th.fc-agenda-gutter")),k.append("<div class='fc-agenda-divider "+e+"'><div class='fc-agenda-divider-inner'/><\/div>")):gi=n([]),v=n("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(k),b=n("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(v),yr=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",o=dt(),c=u(i(o),si),u(o,et),ir=0,r=0;o<c;r++)h=o.getMinutes(),t+="<tr class='fc-slot"+r+" "+(h?"fc-minor":"")+"'><th class='fc-agenda-axis "+e+"'>"+(!y||!h?ki(o,l("axisFormat")):"&nbsp;")+"<\/th><td class='"+s+"'><div style='position:relative'>&nbsp;<\/div><\/td><\/tr>",u(o,l("slotMinutes")),ir++;t+="<\/tbody><\/table>";rt=n(t).appendTo(b);pr=rt.find("div:first");sr(rt.find("td"));ct=ct.add(rt.find("th:first"))}function ku(){var n,u,i,r,f=h(new Date),t;for(fr&&(t=ki(hi(0),or),t=ur?t+er:er+t,ht.find(".fc-week-number").text(t)),n=0;n<a;n++)r=hi(n),u=gt.eq(n),u.html(ki(r,tu)),i=it.eq(n),+r==+f?i.addClass(wt+"-state-highlight fc-today"):i.removeClass(wt+"-state-highlight fc-today"),cr(u.add(i),r)}function du(n,i){n===t&&(n=kr);kr=n;rr={};var r=pt.position().top,u=v.position().top,f=Math.min(n-r,rt.height()+u+1);vr.height(f-w(di));k.css("top",r);v.height(f-u-1);nr=pr.height()+1;tr=l("slotMinutes")/at;ei=nr/tr;i&&nf()}function gu(t){wr=t;oi.clear();ut=0;p(ct.width("").each(function(t,i){ut=Math.max(ut,n(i).outerWidth())}),ut);var i=v[0].clientWidth;ui=v.width()-i;ui?(p(lt,ui),lt.show().prev().removeClass("fc-last")):lt.hide().prev().addClass("fc-last");ri=Math.floor((i-ut)/a);p(gt.slice(0,-1),ri)}function nf(){function u(){v.scrollTop(r)}var n=dt(),t=i(n),r;t.setHours(l("firstHour"));r=yt(n,t)+1;u();setTimeout(u,0)}function tf(){dr=v.scrollTop()}function rf(){v.scrollTop(dr)}function iu(n){n.click(ru).mousedown(vu)}function sr(n){n.click(ru).mousedown(af)}function ru(n){var r,f;if(!l("selectable")){var i=Math.min(a-1,Math.floor((n.pageX-st.offset().left-ut)/ri)),t=hi(i),u=this.parentNode.className.match(/fc-slot(\d+)/);u?(r=parseInt(u[1])*l("slotMinutes"),f=Math.floor(r/60),t.setHours(f),t.setMinutes(r%60+et),kt("dayClick",it[i],t,!1,n)):kt("dayClick",it[i],t,!0,n)}}function uu(n,t,r){r&&ft.build();var o=i(c.visStart),u,f;ur?(u=e(t,o)*nt+tt+1,f=e(n,o)*nt+tt+1):(u=e(n,o),f=e(t,o));u=Math.max(0,u);f=Math.min(a,f);u<f&&iu(fu(0,u,0,f-1))}function fu(n,t,i,r){var u=ft.rect(n,t,i,r,k);return lr(u,k)}function eu(n,t){for(var e,o,u=i(c.visStart),h=r(i(u),1),f=0;f<a;f++){if(e=new Date(Math.max(u,n)),o=new Date(Math.min(h,t)),e<o){var l=f*nt+tt,s=ft.rect(0,l,0,l,b),v=yt(u,e),y=yt(u,o);s.top=v;s.height=y-v;sr(lr(s,b))}r(u,1);r(h,1)}}function uf(n){return oi.left(n)}function ff(n){return oi.right(n)}function ef(n){return{row:Math.floor(e(n,c.visStart)/7),col:hr(n.getDay())}}function bt(n){var i=hi(n.col),t=n.row;return l("allDaySlot")&&t--,t>=0&&u(i,et+t*at),i}function hi(n){return r(i(c.visStart),n*nt+tt)}function li(n){return l("allDaySlot")&&!n.row}function hr(n){return(n-Math.max(gr,nu)+a)%a*nt+tt}function yt(n,r){if(n=i(n,!0),r<u(i(n),et))return 0;if(r>=u(i(n),si))return rt.height();var f=l("slotMinutes"),s=r.getHours()*60+r.getMinutes()-et,e=Math.floor(s/f),o=rr[e];return o===t&&(o=rr[e]=rt.find("tr:eq("+e+") td div")[0].offsetTop),Math.max(0,Math.round(o-1+nr*(s%f/f)))}function of(){return{left:ut,right:wr-ui}}function sf(){return ti}function hf(n){var t=i(n.start);return n.allDay?t:u(t,l("defaultEventMinutes"))}function cf(n,t){return t?i(n):u(i(n),l("slotMinutes"))}function lf(n,t,u){u?l("allDaySlot")&&uu(n,r(i(t),1),!0):ou(n,t)}function ou(t,i){var f=l("selectHelper"),u,s;if(ft.build(),f){if(u=e(t,c.visStart)*nt+tt,u>=0&&u<a){var r=ft.rect(0,u,0,u,b),o=yt(t,t),h=yt(t,i);h>o&&(r.top=o,r.height=h-o,r.left+=2,r.width-=5,n.isFunction(f)?(s=f(t,i),s&&(r.position="absolute",r.zIndex=8,y=n(s).css(r).appendTo(b))):(r.isStart=!0,r.isEnd=!0,y=n(yu({title:"",start:t,end:i,className:["fc-select-helper"],editable:!1},r)),y.css("opacity",l("dragOpacity"))),y&&(sr(y),b.append(y),p(y,r.width,!0),ii(y,r.height,!0)))}}else eu(t,i)}function su(){bi();y&&(y.remove(),y=null)}function af(t){if(t.which==1&&l("selectable")){au(t);var r;vt.start(function(n,t){if(su(),n&&n.col==t.col&&!li(n)){var f=bt(t),e=bt(n);r=[f,u(i(f),at),e,u(i(e),at)].sort(fi);ou(r[0],r[3])}else r=null},t);n(document).one("mouseup",function(n){vt.stop();r&&(+r[0]==+r[1]&&hu(r[0],!1,n),lu(r[0],r[3],!1,n))})}}function hu(n,t,i){kt("dayClick",it[hr(n.getDay())],n,t,i)}function vf(n,t){vt.start(function(n){if(bi(),n)if(li(n))fu(n.row,n.col,n.row,n.col);else{var t=bt(n),r=u(i(t),l("defaultEventMinutes"));eu(t,r)}},t)}function yf(n,t,i){var r=vt.stop();bi();r&&kt("drop",n,bt(r),li(r),t,i)}var c=this;c.renderAgenda=pu;c.setWidth=gu;c.setHeight=du;c.beforeHide=tf;c.afterShow=rf;c.defaultEventEnd=hf;c.timePosition=yt;c.dayOfWeekCol=hr;c.dateCell=ef;c.cellDate=bt;c.cellIsAllDay=li;c.allDayRow=sf;c.allDayBounds=of;c.getHoverListener=function(){return vt};c.colContentLeft=uf;c.colContentRight=ff;c.getDaySegmentContainer=function(){return gi};c.getSlotSegmentContainer=function(){return yr};c.getMinMinute=function(){return et};c.getMaxMinute=function(){return si};c.getBodyContent=function(){return b};c.getRowCnt=function(){return 1};c.getColCnt=function(){return a};c.getColWidth=function(){return ri};c.getSnapHeight=function(){return ei};c.getSnapMinutes=function(){return at};c.defaultSelectionEnd=cf;c.renderDayOverlay=uu;c.renderSelection=lf;c.clearSelection=su;c.reportDayClick=hu;c.dragStart=vf;c.dragStop=yf;ci.call(c,f,o,s);vi.call(c);ai.call(c);br.call(c);var l=c.opt,kt=c.trigger,cu=c.clearEvents,lr=c.renderOverlay,bi=c.clearOverlays,lu=c.reportSelection,au=c.unselect,vu=c.daySelectionMousedown,yu=c.slotSegHtml,ki=o.formatDate,st,ht,gt,pt,it,ar,di,vr,k,gi,ni,ti,v,b,yr,rt,pr,ct,lt,y,wr,kr,ut,ri,ui,nr,at,tr,ei,a,ir,ft,vt,oi,rr={},dr,wt,gr,nu,ur,nt,tt,et,si,tu,fr,er,or;d(f.addClass("fc-agenda"));ft=new yi(function(t,i){function h(n){return Math.max(s,Math.min(c,n))}var u,r,e,f;gt.each(function(t,f){u=n(f);r=u.offset().left;t&&(e[1]=r);e=[r];i[t]=e});e[1]=r+u.outerWidth();l("allDaySlot")&&(u=ti,r=u.offset().top,t[0]=[r,r+u.outerHeight()]);var o=b.offset().top,s=v.offset().top,c=s+v.outerHeight();for(f=0;f<ir*tr;f++)t.push([h(o+ei*f),h(o+ei*(f+1))])});vt=new pi(ft);oi=new wi(function(n){return ar.eq(n)})}function br(){function ai(n,t){pt(n);for(var f=n.length,r=[],u=[],i=0;i<f;i++)n[i].allDay?r.push(n[i]):u.push(n[i]);e("allDaySlot")&&(ri(st(r),t),bt());wi(yi(u),t);o("eventAfterAllRender")}function vi(){wt();kt().empty();nt().empty()}function st(t){for(var o=lt(ct(t,n.map(t,y),f.visStart,f.visEnd)),h=o.length,e,r,u,s=[],i=0;i<h;i++)for(e=o[i],r=0;r<e.length;r++)u=e[r],u.row=0,u.level=i,s.push(u);return s}function yi(t){for(var w=l(),y=it(),b=dt(),a=u(i(f.visStart),y),k=n.map(t,pi),s,e,v,h,c,p=[],o=0;o<w;o++){for(s=lt(ct(t,k,a,u(i(a),b-y))),kr(s),e=0;e<s.length;e++)for(v=s[e],h=0;h<v.length;h++)c=v[h],c.col=o,c.level=e,p.push(c);r(a,1,!0)}return p}function pi(n){return n.end?i(n.end):u(i(n.start),e("defaultEventMinutes"))}function wi(i,r){var s,k=i.length,u,h,it,ct,ut,v,y,ft,c,et,lt,yt="",pt,f,p,wt={},bt={},d,a,ot,st,g=nt(),kt,b,tt,dt=l();for((kt=e("isRTL"))?(b=-1,tt=dt-1):(b=1,tt=0),s=0;s<k;s++)u=i[s],h=u.event,it=rt(u.start,u.start),ct=rt(u.start,u.end),ut=u.col,v=u.level,y=u.forward||0,ft=gt(ut*b+tt),c=ni(ut*b+tt)-ft,c=Math.min(c-6,c*.95),et=v?c/(v+y+1):y?(c/(y+1)-6)*2:c,lt=ft+c/(v+y+1)*v*b+(kt?c-et:0),u.top=it,u.left=lt,u.outerWidth=et,u.outerHeight=ct-it,yt+=ht(h,u);for(g[0].innerHTML=yt,pt=g.children(),s=0;s<k;s++)u=i[s],h=u.event,f=n(pt[s]),p=o("eventRender",h,h,f),p===!1?f.remove():(p&&p!==!0&&(f.remove(),f=n(p).css({position:"absolute",top:u.top,left:u.left}).appendTo(g)),u.element=f,h._id===r?vt(h,f,u):f[0]._fci=s,ei(h,f));for(ti(g,i,vt),s=0;s<k;s++)u=i[s],(f=u.element)&&(a=wt[d=u.key=oi(f[0])],u.vsides=a===t?wt[d]=w(f,!0):a,a=bt[d],u.hsides=a===t?bt[d]=at(f,!0):a,ot=f.find(".fc-event-title"),ot.length&&(u.contentTop=ot[0].offsetTop));for(s=0;s<k;s++)u=i[s],(f=u.element)&&(f[0].style.width=Math.max(0,u.outerWidth-u.hsides)+"px",st=Math.max(0,u.outerHeight-u.vsides),f[0].style.height=st+"px",h=u.event,u.contentTop!==t&&st-u.contentTop<10&&(f.find("div.fc-event-time").text(ci(h.start,e("timeFormat"))+" - "+h.title),f.find("div.fc-event-title").remove()),o("eventAfterRender",h,h,f))}function ht(n,t){var r="<",u=n.url,f=si(n,e),i=["fc-event","fc-event-vert"];return h(n)&&i.push("fc-event-draggable"),t.isStart&&i.push("fc-event-start"),t.isEnd&&i.push("fc-event-end"),i=i.concat(n.className),n.source&&(i=i.concat(n.source.className||[])),r+=u?"a href='"+v(n.url)+"'":"div",r+=" class='"+i.join(" ")+"' style='position:absolute;z-index:8;top:"+t.top+"px;left:"+t.left+"px;"+f+"'><div class='fc-event-inner'><div class='fc-event-time'>"+v(d(n.start,n.end,e("timeFormat")))+"<\/div><div class='fc-event-title'>"+v(n.title)+"<\/div><\/div><div class='fc-event-bg'><\/div>",t.isEnd&&c(n)&&(r+="<div class='ui-resizable-handle ui-resizable-s'>=<\/div>"),r+("<\/"+(u?"a":"div")+">")}function bi(n,t,i){h(n)&&ki(n,t,i.isStart);i.isEnd&&c(n)&&ui(n,t,i);g(n,t)}function vt(n,t,i){var r=t.find("div.fc-event-time");h(n)&&di(n,t,r);i.isEnd&&c(n)&&gi(n,t,r);g(n,t)}function ki(n,t,u){function l(){h||(t.width(v).height("").draggable("option","grid",null),h=!0)}var v,f,h=!0,c,rt=e("isRTL")?-1:1,w=tt(),d=ut(),g=a(),nt=p(),ot=it();t.draggable({zIndex:9,opacity:e("dragOpacity","month"),revertDuration:e("dragRevertDuration"),start:function(a,p){o("eventDragStart",t,n,a,p);k(n,t);v=t.width();w.start(function(o,a,v,p){s();o?(f=!1,c=p*rt,o.row?u?h&&(t.width(d-10),ii(t,g*Math.round((n.end?(n.end-n.start)/tr:e("defaultEventMinutes"))/nt)),t.draggable("option","grid",[d,1]),h=!1):f=!0:(et(r(i(n.start),c),r(y(n),c)),l()),f=f||h&&!c):(l(),f=!0);t.draggable("option","revert",f)},a,"drag")},stop:function(i,r){if(w.stop(),s(),o("eventDragStop",t,n,i,r),f)l(),t.css("filter",""),b(n,t);else{var u=0;h||(u=Math.round((t.offset().top-fi().offset().top)/g)*nt+ot-(n.start.getHours()*60+n.start.getMinutes()));ft(this,n,c,u,h,i,r)}}})}function di(n,t,f){function ot(t){var o=u(i(n.start),t),r;n.end&&(r=u(i(n.end),t));f.text(d(o,r,e("timeFormat")))}function st(){h&&(f.css("display",""),t.draggable("option","grid",[rt,nt]),h=!1)}var w,h=!1,v,c,g,ht=e("isRTL")?-1:1,it=tt(),ct=l(),rt=ut(),nt=a(),lt=p();t.draggable({zIndex:9,scroll:!1,grid:[rt,nt],axis:ct==1?"y":!1,opacity:e("dragOpacity"),revertDuration:e("dragRevertDuration"),start:function(u,l){o("eventDragStart",t,n,u,l);k(n,t);w=t.position();c=g=0;it.start(function(u,o,c,l){t.draggable("option","revert",!u);s();u&&(v=l*ht,e("allDaySlot")&&!u.row?(h||(h=!0,f.hide(),t.draggable("option","grid",null)),et(r(i(n.start),v),r(y(n),v))):st())},u,"drag")},drag:function(n,t){c=Math.round((t.position.top-w.top)/nt)*lt;c!=g&&(h||ot(c),g=c)},stop:function(i,r){var u=it.stop();s();o("eventDragStop",t,n,i,r);u&&(v||c||h)?ft(this,n,v,h?0:c,h,i,r):(st(),t.css("filter",""),t.css(w),ot(0),b(n,t))}})}function gi(n,t,i){var r,f,s=a(),h=p();t.resizable({handles:{s:".ui-resizable-handle"},grid:s,start:function(i,u){r=f=0;k(n,t);t.css("z-index",9);o("eventResizeStart",this,n,i,u)},resize:function(o,c){r=Math.round((Math.max(s,t.height())-c.originalSize.height)/s);r!=f&&(i.text(d(n.start,!r&&!n.end?null:u(yt(n),h*r),e("timeFormat"))),f=r)},stop:function(i,u){o("eventResizeStop",this,n,i,u);r?hi(this,n,0,h*r,i,u):(t.css("z-index",8),b(n,t))}})}var f=this;f.renderEvents=ai;f.compileDaySegs=st;f.clearEvents=vi;f.slotSegHtml=ht;f.bindDaySeg=bi;li.call(f);var e=f.opt,o=f.trigger,h=f.isEventDraggable,c=f.isEventResizable,yt=f.eventEnd,pt=f.reportEvents,wt=f.reportEventClear,g=f.eventElementHandlers,bt=f.setHeight,kt=f.getDaySegmentContainer,nt=f.getSlotSegmentContainer,tt=f.getHoverListener,dt=f.getMaxMinute,it=f.getMinMinute,rt=f.timePosition,gt=f.colContentLeft,ni=f.colContentRight,ri=f.renderDaySegs,ui=f.resizableDayEvent,l=f.getColCnt,ut=f.getColWidth,a=f.getSnapHeight,p=f.getSnapMinutes,fi=f.getBodyContent,ei=f.reportEventElement,b=f.showEvents,k=f.hideEvents,ft=f.eventDrop,hi=f.eventResize,et=f.renderDayOverlay,s=f.clearOverlays,ot=f.calendar,ci=ot.formatDate,d=ot.formatDates}function kr(n){for(var i,r,f,e,u,t=n.length-1;t>0;t--)for(f=n[t],i=0;i<f.length;i++)for(e=f[i],r=0;r<n[t-1].length;r++)u=n[t-1][r],ni(e,u)&&(u.forward=Math.max(u.forward||0,(e.forward||0)+1))}function ci(n,f,e){function a(n,t){var i=v[n];return typeof i=="object"?vt(i,t||e):i}function h(n,t){return f.trigger.apply(f,[n,t||o].concat(Array.prototype.slice.call(arguments,2),[o]))}function it(n){return w(n)&&!a("disableDragging")}function rt(n){return w(n)&&!a("disableResizing")}function w(n){return b(n.editable,(n.source||{}).editable,a("editable"))}function ut(n){s={};for(var r=n.length,t,i=0;i<r;i++)t=n[i],s[t._id]?s[t._id].push(t):s[t._id]=[t]}function k(n){return n.end?i(n.end):tt(n)}function ft(n,t){p.push(t);c[n._id]?c[n._id].push(t):c[n._id]=[t]}function et(){p=[];c={}}function ot(n,t){t.click(function(i){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return h("eventClick",this,n,i)}).hover(function(t){h("eventMouseover",this,n,t)},function(t){h("eventMouseout",this,n,t)})}function st(n,t){d(n,t,"show")}function ht(n,t){d(n,t,"hide")}function d(n,t,i){for(var u=c[n._id],f=u.length,r=0;r<f;r++)t&&u[r][0]==t[0]||u[r][i]()}function ct(n,t,i,r,u,f,e){var c=t.allDay,o=t._id;g(s[o],i,r,u);h("eventDrop",n,t,i,r,u,function(){g(s[o],-i,-r,c);l(o)},f,e);l(o)}function lt(n,t,i,r,u,f){var e=t._id;nt(s[e],i,r);h("eventResize",n,t,i,r,function(){nt(s[e],-i,-r);l(e)},u,f);l(e)}function g(n,i,f,e){f=f||0;for(var o,h=n.length,s=0;s<h;s++)o=n[s],e!==t&&(o.allDay=e),u(r(o.start,i,!0),f),o.end&&(o.end=u(r(o.end,i,!0),f)),y(o,v)}function nt(n,t,i){i=i||0;for(var f,o=n.length,e=0;e<o;e++)f=n[e],f.end=u(r(k(f),t,!0),i),y(f,v)}var o=this;o.element=n;o.calendar=f;o.name=e;o.opt=a;o.trigger=h;o.isEventDraggable=it;o.isEventResizable=rt;o.reportEvents=ut;o.eventEnd=k;o.reportEventElement=ft;o.reportEventClear=et;o.eventElementHandlers=ot;o.showEvents=st;o.hideEvents=ht;o.eventDrop=ct;o.eventResize=lt;var tt=o.defaultEventEnd,y=f.normalizeEvent,l=f.reportEventChange,s={},p=[],c={},v=f.options}function li(){function dt(n,t){var c=a(),l,y=s(),p=h(),v=0,r,d,u,f,ut=n.length,i,e,o;for(c[0].innerHTML=w(n),b(n,c.children()),ni(n),ii(n,c,t),k(n),g(n),nt(n),l=tt(),r=0;r<y;r++){for(d=0,u=[],f=0;f<p;f++)u[f]=0;while(v<ut&&(i=n[v]).row==r){for(e=ei(u.slice(i.startCol,i.endCol)),i.top=e,e+=i.outerHeight,o=i.startCol;o<i.endCol;o++)u[o]=e;v++}l[r].height(ei(u))}rt(n,it(l))}function gt(t,i,r){var o=n("<div/>"),u,s=a(),f,h=t.length,e;for(o[0].innerHTML=w(t),u=o.children(),s.append(u),b(t,u),k(t),g(t),nt(t),rt(t,it(tt())),u=[],f=0;f<h;f++)e=t[f].element,e&&(t[f].row===i&&e.css("top",r),u.push(e[0]));return n(u)}function w(n){for(var w=f("isRTL"),nt=n.length,t,i,y,r,b=vt(),k=b.left,d=b.right,e,s,h,p,g,u="",a=0;a<nt;a++)t=n[a],i=t.event,r=["fc-event","fc-event-hori"],ut(i)&&r.push("fc-event-draggable"),t.isStart&&r.push("fc-event-start"),t.isEnd&&r.push("fc-event-end"),w?(e=o(t.end.getDay()-1),s=o(t.start.getDay()),h=t.isEnd?c(e):k,p=t.isStart?l(s):d):(e=o(t.start.getDay()),s=o(t.end.getDay()-1),h=t.isStart?c(e):k,p=t.isEnd?l(s):d),r=r.concat(i.className),i.source&&(r=r.concat(i.source.className||[])),y=i.url,g=si(i,f),u+=y?"<a href='"+v(y)+"'":"<div",u+=" class='"+r.join(" ")+"' style='position:absolute;z-index:8;left:"+h+"px;"+g+"'><div class='fc-event-inner'>",!i.allDay&&t.isStart&&(u+="<span class='fc-event-time'>"+v(wt(i.start,i.end,f("timeFormat")))+"<\/span>"),u+="<span class='fc-event-title'>"+v(i.title)+"<\/span><\/div>",t.isEnd&&ft(i)&&(u+="<div class='ui-resizable-handle ui-resizable-"+(w?"w":"e")+"'>&nbsp;&nbsp;&nbsp;<\/div>"),u+="<\/"+(y?"a":"div")+">",t.left=h,t.outerWidth=p-h,t.startCol=e,t.endCol=s+1;return u}function b(t,i){for(var h=t.length,o,s,u,r,f=0;f<h;f++)o=t[f],s=o.event,u=n(i[f]),r=e("eventRender",s,s,u),r===!1?u.remove():(r&&r!==!0&&(r=n(r).css({position:"absolute",left:o.left}),u.replaceWith(r),u=r),o.element=u)}function ni(n){for(var u=n.length,i,r,t=0;t<u;t++)i=n[t],r=i.element,r&&ot(i.event,r)}function ii(n,t,i){for(var o=n.length,u,f,e,r=0;r<o;r++)u=n[r],f=u.element,f&&(e=u.event,e._id===i?y(e,f,u):f[0]._fci=r);ti(t,n,y)}function k(n){for(var s=n.length,r,u,e,f,o={},i=0;i<s;i++)r=n[i],u=r.element,u&&(e=r.key=oi(u[0]),f=o[e],f===t&&(f=o[e]=at(u,!0)),r.hsides=f)}function g(n){for(var u=n.length,i,r,t=0;t<u;t++)i=n[t],r=i.element,r&&(r[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px")}function nt(n){for(var s=n.length,r,u,e,f,o={},i=0;i<s;i++)r=n[i],u=r.element,u&&(e=r.key,f=o[e],f===t&&(f=o[e]=ri(u)),r.outerHeight=u[0].offsetHeight+f)}function tt(){for(var i=s(),t=[],n=0;n<i;n++)t[n]=lt(n).find("div.fc-day-content > div");return t}function it(n){for(var r=n.length,i=[],t=0;t<r;t++)i[t]=n[t][0].offsetTop;return i}function rt(n,t){for(var o=n.length,i,u,f,r=0;r<o;r++)i=n[r],u=i.element,u&&(u[0].style.top=t[i.row]+(i.top||0)+"px",f=i.event,e("eventAfterRender",f,f,u))}function ui(t,o,c){var l=f("isRTL"),a=l?"w":"e",y=o.find(".ui-resizable-"+a),v=!1;d(o);o.mousedown(function(n){n.preventDefault()}).click(function(n){v&&(n.preventDefault(),n.stopImmediatePropagation())});y.mousedown(function(f){function ut(i){e("eventResizeStop",this,t,i);n("body").css("cursor","");k.stop();p();w&&ct(this,t,w,0,i);setTimeout(function(){v=!1},0)}if(f.which==1){v=!0;var k=u.getHoverListener(),tt=s(),it=h(),d=l?-1:1,g=l?it-1:0,rt=o.css("top"),w,y,nt=n.extend({},t),b=yt(t.start);kt();n("body").css("cursor",a+"-resize").one("mouseup",ut);e("eventResizeStart",this,t,f);k.start(function(n,u){var e,f,o,s;n&&(e=Math.max(b.row,n.row),f=n.col,tt==1&&(e=0),e==b.row&&(f=l?Math.min(b.col,f):Math.max(b.col,f)),w=e*7+f*d+g-(u.row*7+u.col*d+g),o=r(et(t),w,!0),w?(nt.end=o,s=y,y=gt(pt([nt]),c.row,rt),y.find("*").css("cursor",a+"-resize"),s&&s.remove(),ht(t)):y&&(st(t),y.remove(),y=null),p(),bt(t.start,r(i(o),1)))},f)}})}var u=this;u.renderDaySegs=dt;u.resizableDayEvent=ui;var f=u.opt,e=u.trigger,ut=u.isEventDraggable,ft=u.isEventResizable,et=u.eventEnd,ot=u.reportEventElement,st=u.showEvents,ht=u.hideEvents,ct=u.eventResize,s=u.getRowCnt,h=u.getColCnt,fi=u.getColWidth,lt=u.allDayRow,vt=u.allDayBounds,c=u.colContentLeft,l=u.colContentRight,o=u.dayOfWeekCol,yt=u.dateCell,pt=u.compileDaySegs,a=u.getDaySegmentContainer,y=u.bindDaySeg,wt=u.calendar.formatDates,bt=u.renderDayOverlay,p=u.clearOverlays,kt=u.clearSelection}function ai(){function c(n,t,i){r();t||(t=h(n,i));o(n,t,i);f(n,t,i)}function r(n){u&&(u=!1,s(),e("unselect",null,n))}function f(n,t,i,r){u=!0;e("select",null,n,t,i,r)}function l(u){var h=t.cellDate,l=t.cellIsAllDay,c=t.getHoverListener(),a=t.reportDayClick,v,e;if(u.which==1&&i("selectable")){r(u);v=this;c.start(function(n,t){s();n&&l(n)?(e=[h(t),h(n)].sort(fi),o(e[0],e[1],!0)):e=null},u);n(document).one("mouseup",function(n){c.stop();e&&(+e[0]==+e[1]&&a(e[0],!0,n),f(e[0],e[1],!0,n))})}}var t=this;t.select=c;t.unselect=r;t.reportSelection=f;t.daySelectionMousedown=l;var i=t.opt,e=t.trigger,h=t.defaultSelectionEnd,o=t.renderSelection,s=t.clearSelection,u=!1;i("selectable")&&i("unselectAuto")&&n(document).mousedown(function(t){var u=i("unselectCancel");u&&n(t.target).parents(u).length||r(t)})}function vi(){function u(r,u){var f=i.shift();return f||(f=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),f[0].parentNode!=u[0]&&f.appendTo(u),t.push(f.css(r).show()),f}function f(){for(var n;n=t.shift();)i.push(n.hide().unbind())}var r=this,t,i;r.renderOverlay=u;r.clearOverlays=f;t=[];i=[]}function yi(n){var r=this,t,i;r.build=function(){t=[];i=[];n(t,i)};r.cell=function(n,r){for(var o=t.length,s=i.length,f=-1,e=-1,u=0;u<o;u++)if(r>=t[u][0]&&r<t[u][1]){f=u;break}for(u=0;u<s;u++)if(n>=i[u][0]&&n<i[u][1]){e=u;break}return f>=0&&e>=0?{row:f,col:e}:null};r.rect=function(n,r,u,f,e){var o=e.offset();return{top:t[n][0]-o.top,left:i[r][0]-o.left,width:i[f][1]-i[r][0],height:t[u][1]-t[n][0]}}}function pi(t){function e(n){dr(n);var u=t.cell(n.pageX,n.pageY);(!u!=!r||u&&(u.row!=r.row||u.col!=r.col))&&(u?(i||(i=u),f(u,i,u.row-i.row,u.col-i.col)):f(u,i),r=u)}var o=this,u,f,i,r;o.start=function(o,s,h){f=o;i=r=null;t.build();e(s);u=h||"mousemove";n(document).bind(u,e)};o.stop=function(){return n(document).unbind(u,e),r}}function dr(n){n.pageX===t&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY)}function wi(n){function e(t){return f[t]=f[t]||n(t)}var i=this,f={},r={},u={};i.left=function(n){return r[n]=r[n]===t?e(n).position().left:r[n]};i.right=function(n){return u[n]=u[n]===t?i.left(n)+e(n).width():u[n]};i.clear=function(){f={};r={};u={}}}var k={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;<\/span>",next:"<span class='fc-text-arrow'>&rsaquo;<\/span>",prevYear:"<span class='fc-text-arrow'>&laquo;<\/span>",nextYear:"<span class='fc-text-arrow'>&raquo;<\/span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},bi={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;<\/span>",next:"<span class='fc-text-arrow'>&lsaquo;<\/span>",prevYear:"<span class='fc-text-arrow'>&raquo;<\/span>",nextYear:"<span class='fc-text-arrow'>&laquo;<\/span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},f=n.fullCalendar={version:"1.6.1"},s=f.views={},wt,bt,ht;n.fn.fullCalendar=function(i){var f,r,u;return typeof i=="string"?(f=Array.prototype.slice.call(arguments,1),this.each(function(){var u=n.data(this,"fullCalendar"),e;u&&n.isFunction(u[i])&&(e=u[i].apply(u,f),r===t&&(r=e),i=="destroy"&&n.removeData(this,"fullCalendar"))}),r!==t)?r:this:(u=i.eventSources||[],delete i.eventSources,i.events&&(u.push(i.events),delete i.events),i=n.extend(!0,{},k,i.isRTL||i.isRTL===t&&k.isRTL?bi:{},i),this.each(function(t,r){var f=n(r),e=new ki(f,i,u);f.data("fullCalendar",e);e.render()}),this)};f.sourceNormalizers=[];f.sourceFetchers=[];wt={dataType:"json",cache:!1};bt=1;f.addDays=r;f.cloneDate=i;f.parseDate=ft;f.parseISO8601=et;f.parseTime=ot;f.formatDate=c;f.formatDates=st;var tt=["sun","mon","tue","wed","thu","fri","sat"],kt=864e5,nr=36e5,tr=6e4;ht={s:function(n){return n.getSeconds()},ss:function(n){return a(n.getSeconds())},m:function(n){return n.getMinutes()},mm:function(n){return a(n.getMinutes())},h:function(n){return n.getHours()%12||12},hh:function(n){return a(n.getHours()%12||12)},H:function(n){return n.getHours()},HH:function(n){return a(n.getHours())},d:function(n){return n.getDate()},dd:function(n){return a(n.getDate())},ddd:function(n,t){return t.dayNamesShort[n.getDay()]},dddd:function(n,t){return t.dayNames[n.getDay()]},M:function(n){return n.getMonth()+1},MM:function(n){return a(n.getMonth()+1)},MMM:function(n,t){return t.monthNamesShort[n.getMonth()]},MMMM:function(n,t){return t.monthNames[n.getMonth()]},yy:function(n){return(n.getFullYear()+"").substring(2)},yyyy:function(n){return n.getFullYear()},t:function(n){return n.getHours()<12?"a":"p"},tt:function(n){return n.getHours()<12?"am":"pm"},T:function(n){return n.getHours()<12?"A":"P"},TT:function(n){return n.getHours()<12?"AM":"PM"},u:function(n){return c(n,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(n){var t=n.getDate();return t>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"},w:function(n,t){return t.weekNumberCalculation(n)},W:function(n){return ir(n)}};f.dateFormatters=ht;f.applyAll=nt;s.month=lr;s.basicWeek=ar;s.basicDay=vr;pt({weekMode:"fixed"});s.agendaWeek=pr;s.agendaDay=wr;pt({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);
/*
//# sourceMappingURL=fullcalendar.min.js.map
*/